<h2>Creación de libro</h2>


<form [formGroup]="bookForm" (ngSubmit)="save()">

  <mat-form-field>
    <mat-label>Título</mat-label>
    <input matInput type="text" formControlName="title">
  </mat-form-field>

  <mat-form-field>
    <mat-label>Sinopsis</mat-label>
    <textarea matInput #message maxlength="1000" rows="5" placeholder="Ex. I need help with..."
      formControlName="sinopsis">
    </textarea>
    <mat-hint align="start"><strong>Escribe varios párrafos que describan el libro.</strong> </mat-hint>
    <mat-hint align="end">{{message.value.length}} / 1000</mat-hint>
  </mat-form-field>

  <mat-form-field floatLabel="always">
    <mat-label>Número de páginas</mat-label>
    <input matInput type="number" placeholder="0" formControlName="numPages" min="30" step="0">
    <mat-error *ngIf="bookForm.get('numPages')?.invalid && bookForm.get('numPages')?.touched">
        El número páginas mínimo es de 30.
  </mat-error>
  </mat-form-field>

  <mat-form-field floatLabel="always">
    <mat-label>Precio</mat-label>
    <input matInput type="number" class="example-right-align" placeholder="0" step="0.01" min="5" max="500" formControlName="price">
    <span matTextPrefix>&euro;&nbsp;</span>
    <mat-error *ngIf="bookForm.get('price')?.invalid && bookForm.get('price')?.touched">
        El precio debe estar comprendido en un rango de 5 y 500 €.
  </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Fecha de lanzamiento</mat-label>
    <input matInput [matDatepicker]="picker" formControlName="release" >
    <mat-hint>DD/MM/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
</mat-form-field>

  <button mat-fab extended type="submit" [disabled]="bookForm.invalid">
    <mat-icon>send</mat-icon>
    Enviar
  </button>
</form>